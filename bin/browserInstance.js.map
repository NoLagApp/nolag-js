{"version":3,"file":"browserInstance.js","sources":["../src/shared/enum/ETransportCommand.ts","../src/shared/utils/Encodings.ts","../src/shared/utils/TransportCommands.ts","../src/shared/utils/transport.ts","../src/shared/models/Topic.ts","../src/shared/enum.ts","../src/shared/constants.ts","../src/client/NoLagClient.ts","../src/client/index.ts","../src/unifiedWebsocket/browser.ts","../src/shared/utils/generateQueryString.ts","../src/api/controllers/tunnels/TunnelDevice.ts","../src/api/controllers/tunnels/TunnelPublish.ts","../src/api/controllers/tunnels/TunnelTopic.ts","../src/api/controllers/tunnels/TunnelApi.ts","../src/api/ApiTunnel.ts","../src/api/index.ts","../src/browserInstance.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["ETransportCommand","ETransportCommandSeparator","stringToArrayBuffer","str","buf","ArrayBuffer","length","bufView","Uint8Array","strLen","i","charCodeAt","stringToBuffer","bufferToString","buffer","uint8ArrayToString","reduce","accumulator","index","String","fromCharCode","TransportCommands","commandArray","setCommand","command","commandAction","this","push","commandActionArray","Array","isArray","convertArray","convertStringNumberArray","commandActionBuffer","from","commandActions","map","action","ArraySeparator","flat","build","transportCommands","NqlTransport","encode","payload","separatorArray","Payload","transportCommandsUintArray","commandLength","byteLength","payloadOffset","payloadLength","payloadUintArray","tmp","set","decode","transport","totalTransportBytes","transportBufferViewer","payloadSeparatorIndex","indexOf","commands","slice","payloadStartIndex","extractedCommands","extractCommands","getCommand","hasSeparatorIndexes","commandActionUint8ArrayToString","item","join","commandActionUint8ArrayToStringArray","groupedUint8Array","tempGroup","forEach","uint8Array","Number","commandByteGroup","commandBeingAssigned","byte","Object","values","keys","key","Topic","connection","topicName","onReceiveCallback","identifiers","presence","tunnel","constructor","setConnection","saveIdentifiers","OR","subscribe","identifier","find","s","deleteSavedIdentifiers","identifierList","Identifier","Presence","AddAction","send","setPresence","_onReceiveMessage","data","onReceive","callbackFn","addIdentifiers","identifiersList","removeIdentifiers","DeleteAction","unsubscribe","removeTopicInstance","publish","EConnectionStatus","EEnvironment","EEncoding","EVisibilityState","EAccessPermission","EStatus","ETopicType","ELoadBalanceType","CONSTANT","DefaultWsHost","DefaultApiHost","DefaultWsUrl","DefaultPort","DefaultWsProtocol","DefaultApiUrl","DefaultHttpProtocol","NoLagClient","host","authToken","wsInstance","protocol","url","deviceConnectionId","undefined","environment","deviceTokenId","defaultCheckConnectionInterval","defaultCheckConnectionTimeout","checkConnectionInterval","checkConnectionTimeout","reConnect","callbackOnOpen","callbackOnReceive","callbackOnClose","callbackOnError","connectionStatus","Idle","backpressureSendInterval","senderInterval","unifiedWebsocket","connectOptions","startSender","setInterval","sendTransport","shift","slowDownSender","backpressureInterval","clearInterval","addToBuffer","setReConnect","connect","initWebsocketConnection","Promise","resolve","reject","checkConnection","Connected","setTimeout","disconnect","close","onOpen","event","_onOpen","onMessage","_onReceive","onClose","_onClose","onError","_onError","authenticate","Connecting","Authenticate","Reconnect","callback","onReceiveMessage","decoded","InitConnection","Acknowledge","Error","Disconnected","Alert","presences","heartbeat","Tunnel","noLagClient","topics","heartbeatTimer","heartBeatInterval","visibilityState","Visible","callbackOnDisconnect","callbackOnReconnect","callbackOnReceivedError","options","disconnectOnNoVisibility","onVisibilityChange","startHeartbeat","stopHeartbeat","initiate","reconnect","document","addEventListener","async","Hidden","tunnelInstance","err","canReconnect","doReconnect","onDisconnect","onReconnect","onErrors","getTopic","encodedBuffer","status","ws","WebSocket","binaryType","Arraybuffer","message","onopen","onclose","onerror","onmessage","generateQueryString","query","queryArray","queryObject","queryString","TunnelDevice","routeNamespace","parentRouteNamespace","tunnelId","requestParams","createDevice","response","fetch","baseURL","method","headers","body","JSON","stringify","json","getDeviceById","listDevices","updateDevice","deleteDevice","TunnelPublish","baseUrl","wsHost","TunnelTopic","createTopic","getTopicById","topicId","listTopics","updateTopic","deleteTopic","TunnelApi","apiTunnel","devices","getTunnel","updateTunnel","deleteTunnel","httpPublish","ApiTunnel","apiKey","wsUrl","tunnels","tunnelQuery","URLSearchParams","toString","createTunnel","Api","console","log","WebSocketClient"],"mappings":"AAKA,IAAYA,EA8BAC,GA9BZ,SAAYD,GAEVA,EAAAA,EAAA,eAAA,GAAA,iBAEAA,EAAAA,EAAA,aAAA,IAAA,eAEAA,EAAAA,EAAA,YAAA,GAAA,cAEAA,EAAAA,EAAA,UAAA,IAAA,YAEAA,EAAAA,EAAA,MAAA,IAAA,QAEAA,EAAAA,EAAA,WAAA,IAAA,aAEAA,EAAAA,EAAA,MAAA,IAAA,QAEAA,EAAAA,EAAA,MAAA,GAAA,QAEAA,EAAAA,EAAA,UAAA,IAAA,YAEAA,EAAAA,EAAA,aAAA,IAAA,eAEAA,EAAAA,EAAA,OAAA,IAAA,SAEAA,EAAAA,EAAA,QAAA,IAAA,UAGAA,EAAAA,EAAA,SAAA,IAAA,UACD,CA5BD,CAAYA,IAAAA,EA4BX,CAAA,IAED,SAAYC,GACVA,EAAAA,EAAA,eAAA,IAAA,gBACD,CAFD,CAAYA,IAAAA,EAEX,CAAA,IChCY,MAAAC,EAAuBC,IAClC,MAAMC,EAAM,IAAIC,YAAYF,EAAIG,QAC1BC,EAAU,IAAIC,WAAWJ,GACzBK,EAASN,EAAIG,OAAS,EAC5B,IAAK,IAAII,EAAI,EAAGA,EAAID,EAAQC,IAC1BH,EAAQG,GAAKP,EAAIQ,WAAWD,GAE9B,OAAON,CAAG,EAOCQ,EAAkBT,GACtBD,EAAoBC,GAOhBU,EACXC,GAEOC,EAAmBD,GAQfC,EACXD,GAEa,IAAIN,WAAWM,GAChBE,QAAO,CAACC,EAAaC,IACxBD,EAAcE,OAAOC,aAAaF,IACxC,UCrBQG,EACHC,aAAyB,GASjC,UAAAC,CAAWC,EAA4BC,GACrC,IAAKD,EAAS,OAAOE,KACrBA,KAAKJ,aAAaK,KAAKH,GACvB,IAAII,EAA+B,GACnC,OAAKH,GAEDI,MAAMC,QAAQL,GAChBG,EAAqBF,KAAKK,aAAaN,GACL,iBAAlBA,IAChBG,EAAqBF,KAAKM,yBAAyBP,IAGrDC,KAAKJ,aAAe,IAAII,KAAKJ,gBAAiBM,GACvCF,MAToBA,KAY7B,wBAAAM,CAAyBP,GACvB,MAAMQ,EAAsBrB,EAAea,GAC3C,OAAOI,MAAMK,KAAK,IAAI1B,WAAWyB,IAGnC,YAAAF,CAAaI,GAcX,OAb4BA,EAAeC,KAAKC,GACvCX,KAAKM,yBAAyBK,KAIpCD,KAAKC,IAEJA,EAAOV,KAAK1B,EAA2BqC,gBAChCD,KAGRE,OAUL,KAAAC,GACE,OAAO,IAAIhC,WAAWkB,KAAKJ,eAIxB,MAAMmB,EAAoB,IAAM,IAAIpB,QCjE9BqB,EACX,aAAOC,CAAOtB,EAAsCuB,GAClD,MAAMC,EAAiB,IAAIrC,WAAW,GACtCqC,EAAe,GAAK7C,EAAkB8C,QAEtC,MAAMC,EAA6B1B,EAAkBmB,QAE/CQ,EAAgBD,EAA2BE,WAEjD,IAEIC,EAFAC,EAAgB,EAChBC,EAA+B,IAAI5C,WAAW,GAG9CoC,IACFO,EAAgBP,EAAQK,WAAa,EACrCG,EAAmB,IAAI5C,WAAWoC,GAClCM,EAAgBF,EAAgB,GAGlC,MAEM5C,EAAM,IAAIC,YAFE2C,EAAgBG,GAI5BE,EAAM,IAAI7C,WAAWJ,GAQ3B,OAPAiD,EAAIC,IAAIP,EAA4B,GAEhCH,IACFS,EAAIC,IAAIT,EAAgBG,GACxBK,EAAIC,IAAIF,EAAkBF,IAGrBG,EAAIvC,OAGb,aAAOyC,CAAOC,GACZ,MAAMC,EAAsBD,EAAUP,WAChCS,EAAwB,IAAIlD,WAAWgD,GAC7C,IAAIG,EAAwBD,EAAsBE,QAChD5D,EAAkB8C,SAGpBa,EACEA,EAAwB,EAAIF,EAAsBE,EAEpD,MAAME,EAAWH,EAAsBI,MAAM,EAAGH,GAC1CI,EAAoBJ,EAAwB,EAE5CK,EAAoBtC,KAAKuC,gBAAgBJ,GAW/C,MAAO,CACLA,SAAUG,EACVpB,QAASY,EAAUM,MAAMC,EAAmBN,GAC5CS,WAXA1C,KAEIwC,EAAkBxC,IACbwC,EAAkBxC,IAY/B,0BAAO2C,CAAoB1C,GACzB,OAAOA,EAAcmC,QAAQ3D,EAA2BqC,gBAAkB,EAG5E,sCAAO8B,CAAgCxC,GACrC,OAAOA,EAAmBQ,KAAKiC,GAASlD,OAAOC,aAAaiD,KAAOC,KAAK,IAG1E,2CAAOC,CAAqC3C,GAC1C,MAAM4C,EAAgC,GACtC,IAAIC,EAAsB,GAgB1B,OAdA7C,EAAmB8C,SAASL,IACtBA,IAASpE,EAA2BqC,gBACtCkC,EAAkB7C,KAAK8C,GACvBA,EAAY,IAEZA,EAAU9C,KAAK0C,MAKfI,EAAUnE,OAAS,GACrBkE,EAAkB7C,KAAK8C,GAGlBD,EAAkBpC,KAAKuC,GACrBjD,KAAK0C,gCACVO,EAAWvC,KAAK1B,GAAMkE,OAAOlE,QAKnC,sBAAOuD,CACLJ,GAEA,MAAMgB,EAAwB,CAAE,EAChC,IAAIC,EAA4B,KA0BhC,OAxBAjB,EAASa,SAASK,IAChB,GAAIC,OAAOC,OAAOjF,GAAmB4D,QAAQmB,IAAS,EAGpD,OAFAD,EAAuBC,OACvBF,EAAiBC,GAAwB,IAI3CD,EAAiBC,GAAsBnD,KAAKoD,EAAK,IAGnDC,OAAOE,KAAKL,GAAkBH,SAASS,IACrC,MAAMvD,EAAqBiD,EAAiBM,GAChBzD,KAAKyC,oBAAoBvC,GAEnDiD,EAAiBM,GACfzD,KAAK6C,qCAAqC3C,GACL,IAA9BA,EAAmBtB,OAC5BuE,EAAiBM,IAAO,EAExBN,EAAiBM,GACfzD,KAAK0C,gCAAgCxC,MAIpCiD,SC7FEO,EACHC,WACSC,UACTC,kBACAC,YAAwB,GACxBC,SACAC,OACR,WAAAC,CACED,EACAL,EACAC,EACAE,GAEA9D,KAAKgE,OAASA,EACdhE,KAAKkE,cAAcP,GACnB3D,KAAK4D,UAAYA,EACjB5D,KAAKmE,gBAAgBL,GAAaM,IAAM,IACxCpE,KAAKqE,YAGC,eAAAF,CAAgBL,GACjB3D,MAAMC,QAAQ0D,IAEnBA,EAAYpD,KAAK4D,IACStE,KAAK8D,YAAYS,MAAMC,GAAMA,IAAMF,KAEzDtE,KAAK8D,YAAY7D,KAAKqE,MAKpB,sBAAAG,CAAuBX,GAC7B,MAAMY,EAA2B,GACjCZ,EAAYpD,KAAK4D,IACStE,KAAK8D,YAAYS,MAAMC,GAAMA,IAAMF,KAEzDI,EAAezE,KAAKqE,MAIxBtE,KAAK8D,YAAcY,EAGb,SAAAL,GACN,IACIrE,KAAK4D,WAA0C,IAA7B5D,KAAK8D,aAAalF,SACrCuB,MAAMC,QAAQJ,KAAK8D,aAEpB,OAAO9D,KAET,MAAMmC,EAAWpB,IAAoBlB,WACnCvB,EAAkBoF,MAClB1D,KAAK4D,WAGH5D,KAAK8D,YAAYlF,OAAS,GAC5BuD,EAAStC,WAAWvB,EAAkBqG,WAAY3E,KAAK8D,aAGrD9D,KAAK+D,UACP5B,EAAStC,WAAWvB,EAAkBsG,SAAU5E,KAAK+D,UAGvD5B,EAAStC,WAAWvB,EAAkBuG,WAEtC,MAAM/C,EAAYd,EAAaC,OAAOkB,GAEtCnC,KAAK8E,KAAKhD,GAGL,WAAAiD,CAAYhB,GAIjB,OAHA/D,KAAK+D,SAAWA,EAEhB/D,KAAKqE,YACErE,KAGF,aAAAkE,CAAcP,GAEnB,OADA3D,KAAK2D,WAAaA,EACX3D,KAGF,iBAAAgF,CAAkBC,GAIvB,OAHIjF,KAAK6D,mBACP7D,KAAK6D,kBAAkBoB,GAElBjF,KAGF,SAAAkF,CACLC,GAGA,OADAnF,KAAK6D,kBAAoBsB,EAClBnF,KAGF,cAAAoF,CAAeC,GACpB,IAAKA,GAAiBjB,IAAIxF,QAA0C,IAAhCyG,GAAiBjB,IAAIxF,OACvD,OAAOoB,KAET,MAAM8D,EAAcuB,GAAiBjB,IAAM,GAC3CpE,KAAKmE,gBAAgBL,GACrB,MAAM3B,EAAWpB,IAAoBlB,WACnCvB,EAAkBoF,MAClB1D,KAAK4D,WAGHE,EAAYlF,OAAS,GACvBuD,EAAStC,WAAWvB,EAAkBqG,WAAYb,GAGpD3B,EAAStC,WAAWvB,EAAkBuG,WAEtC,MAAM/C,EAAYd,EAAaC,OAAOkB,GAItC,OAFAnC,KAAK8E,KAAKhD,GAEH9B,KAGF,iBAAAsF,CAAkBxB,GACvB,GAA2B,IAAvBA,EAAYlF,OAAc,OAAOoB,KAErCA,KAAKyE,uBAAuBX,GAAe,IAE3C,MAAM3B,EAAWpB,IAAoBlB,WACnCvB,EAAkBoF,MAClB1D,KAAK4D,WAGPzB,EAAStC,WAAWvB,EAAkBqG,WAAYb,GAElD3B,EAAStC,WAAWvB,EAAkBiH,cAEtC,MAAMzD,EAAYd,EAAaC,OAAOkB,GAItC,OAFAnC,KAAK8E,KAAKhD,GAEH9B,KAGT,WAAAwF,GACExF,KAAKgE,OAAOyB,oBAAoBzF,KAAK4D,WAErC,MAAMzB,EAAWpB,IACdlB,WAAWvB,EAAkBoF,MAAO1D,KAAK4D,WACzC/D,WAAWvB,EAAkBiH,cAE1BzD,EAAYd,EAAaC,OAAOkB,GAGtC,OADAnC,KAAK8E,KAAKhD,IACH,EAGF,OAAA4D,CAAQT,EAAmBnB,GAChC,GAAwB,IAApBmB,EAAK1D,WAAkB,OAAOvB,KAElC,MAAMmC,EAAWpB,IAAoBlB,WACnCvB,EAAkBoF,MAClB1D,KAAK4D,WAGHE,GAAeA,GAAalF,OAAS,GACvCuD,EAAStC,WAAWvB,EAAkBqG,WAAYb,GAGpD,MAAMhC,EAAYd,EAAaC,OAAOkB,EAAU8C,GAIhD,OAFAjF,KAAK8E,KAAKhD,GAEH9B,KAGD,IAAA8E,CAAKhD,GACP9B,KAAK2D,YACP3D,KAAK2D,WAAWmB,KAAKhD,QClOf6D,EAOAC,EAKAC,EAIAC,EAQAC,EASAC,EAKAC,EAKAC,GA3CZ,SAAYP,GACVA,EAAA,KAAA,OACAA,EAAA,WAAA,aACAA,EAAA,UAAA,YACAA,EAAA,aAAA,cACD,CALD,CAAYA,IAAAA,EAKX,CAAA,IAED,SAAYC,GACVA,EAAA,OAAA,SACAA,EAAA,QAAA,SACD,CAHD,CAAYA,IAAAA,EAGX,CAAA,IAED,SAAYC,GACVA,EAAA,YAAA,aACD,CAFD,CAAYA,IAAAA,EAEX,CAAA,IAED,SAAYC,GACVA,EAAA,OAAA,SACAA,EAAA,QAAA,SACD,CAHD,CAAYA,IAAAA,EAGX,CAAA,IAKD,SAAYC,GACVA,EAAA,UAAA,YACAA,EAAA,QAAA,UACAA,EAAA,OAAA,QACD,CAJD,CAAYA,IAAAA,EAIX,CAAA,IAKD,SAAYC,GACVA,EAAA,OAAA,SACAA,EAAA,SAAA,UACD,CAHD,CAAYA,IAAAA,EAGX,CAAA,IAED,SAAYC,GACVA,EAAA,SAAA,WACAA,EAAA,IAAA,KACD,CAHD,CAAYA,IAAAA,EAGX,CAAA,IAED,SAAYC,GACVA,EAAA,YAAA,YACD,CAFD,CAAYA,IAAAA,EAEX,CAAA,IC3CY,MAAAC,EAAW,CACtBC,cAAe,mBACfC,eAAgB,gBAChBC,aAAc,MACdC,YAAa,IACbC,kBAAmB,MACnBC,cAAe,MACfC,oBAAqB,eCOVC,EACHC,KACAC,UACDC,WACCC,SACAC,IACAC,wBAAyCC,EACzCC,YACDC,cAA+B,KAE9BC,+BAAiC,IACjCC,8BAAgC,IAChCC,wBACAC,uBACAC,WAAqB,EAGrBC,eAA8B,OAC9BC,kBAAgC,OAChCC,gBAA+B,OAC/BC,gBAA+B,OAGhCC,iBAAsCnC,EAAkBoC,KACvD3I,OAAwB,GACxB4I,yBAA2B,EAC3BC,eAAsB,EACtBC,iBAER,WAAAjE,CACEiE,EACArB,EACAsB,GAEAnI,KAAK6G,UAAYA,GAAa,GAC9B7G,KAAK4G,KAAOuB,GAAgBvB,MAAQT,EAASC,cAC7CpG,KAAK+G,SAAWoB,GAAgBpB,UAAYZ,EAASK,kBACrDxG,KAAKgH,IAAMb,EAASG,aACpBtG,KAAKuH,wBACHY,GAAgBZ,yBAChBvH,KAAKqH,+BACPrH,KAAKwH,uBACHW,GAAgBX,wBAChBxH,KAAKsH,8BACPtH,KAAKkI,iBAAmBA,EACxBlI,KAAKoI,cAGP,WAAAA,GACEpI,KAAKiI,eAAiBI,aAAY,KAEhC,MAAMC,EAAgBtI,KAAKZ,OAAOmJ,QAC7BD,GACAtI,KAAK8G,YAEV9G,KAAK8G,WAAWhC,MAAO9E,KAAK8G,WAAWhC,KAAKwD,EAA0B,GACrEtI,KAAKgI,0BAIV,cAAAQ,CAAeC,GACbC,cAAc1I,KAAKiI,gBACnBjI,KAAKgI,yBAA2BS,EAChCzI,KAAKoI,cAGP,WAAAO,CAAYvJ,GACVY,KAAKZ,OAAOa,KAAKb,GAGnB,YAAAwJ,CAAanB,GACPA,IAAWzH,KAAKyH,UAAYA,GAQlC,OAAAoB,GAGE,OAFA7I,KAAK8H,iBAAmBnC,EAAkBoC,KAC1C/H,KAAK8I,0BACE,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAkBb,aAAY,KAC9BrI,KAAK8H,mBAAqBnC,EAAkBwD,YAC9CH,EAAQhJ,MACR0I,cAAcQ,MAEflJ,KAAKuH,yBACR6B,YAAW,KACLpJ,KAAK8H,mBAAqBnC,EAAkBoC,OAC9CkB,GAAO,GACPP,cAAcQ,MAEflJ,KAAKwH,uBAAuB,IAInC,UAAA6B,GACMrJ,KAAK8G,YAAc9G,KAAK8G,WAAWwC,QACrCtJ,KAAK8G,WAAWwC,QAChBtJ,KAAK8G,gBAAaI,GAQtB,uBAAA4B,GAGM9I,KAAK8H,mBAAqBnC,EAAkBwD,YAIhDnJ,KAAK8G,WAAa9G,KAAKkI,iBACrB,GAAGlI,KAAK+G,cAAc/G,KAAK4G,OAAO5G,KAAKgH,OAGpChH,KAAK8G,aAIV9G,KAAK8G,WAAWyC,OAAUC,IACxBxJ,KAAKyJ,QAAQD,EAAM,EAGrBxJ,KAAK8G,WAAW4C,UAAaF,IAC3BxJ,KAAK2J,WAAWH,EAAM,EAGxBxJ,KAAK8G,WAAW8C,QAAWJ,IACzBxJ,KAAK6J,SAASL,EAAM,EAGtBxJ,KAAK8G,WAAWgD,QAAWN,IACzBxJ,KAAK+J,SAASP,EAAM,IAIxB,YAAAQ,GACEhK,KAAK8H,iBAAmBnC,EAAkBsE,WAE1C,MAAMpD,UAAEA,GAAc7G,KAChBmC,EAAWpB,IAAoBlB,WACnCvB,EAAkB4L,aAClBrD,GAGE7G,KAAKyH,WACPtF,EAAStC,WAAWvB,EAAkB6L,WAGxCnK,KAAK8E,KAAK9D,EAAaC,OAAOkB,IAGzB,MAAAoH,CAAOa,GACZpK,KAAK0H,eAAiB0C,EAGjB,gBAAAC,CAAiBD,GACtBpK,KAAK2H,kBAAoByC,EAGpB,OAAAR,CAAQQ,GACbpK,KAAK4H,gBAAkBwC,EAGlB,OAAAN,CAAQM,GACbpK,KAAK6H,gBAAkBuC,EAGjB,OAAAX,CAAQD,GACdxJ,KAAK8H,iBAAqBnC,EAAkBoC,KAC5C/H,KAAK0H,oBAAeR,EAAWsC,GAGzB,UAAAG,CAAWH,GACjB,MAAMvE,EAAoBuE,GAAS,IAAI7K,YAAY,GAC7C2L,EAAUtJ,EAAaa,OAAOoD,GACpC,GAAwB,IAApBA,EAAK1D,WACP,OAGF,GACE+I,EAAQ9H,WAAWlE,EAAkBiM,iBACrCvK,KAAK8H,mBAAqBnC,EAAkBoC,KAG5C,YADA/H,KAAKgK,eAIP,GACEM,EAAQ9H,WAAWlE,EAAkBkM,cACrCxK,KAAK8H,mBAAqBnC,EAAkBsE,WAM5C,OAJAjK,KAAK8H,iBAAmBnC,EAAkBwD,eAC1CnJ,KAAKoH,cAAgBkD,EAAQ9H,WAC3BlE,EAAkBkM,cAKtB,GAAIF,EAAQ9H,WAAWlE,EAAkBmM,OAMvC,OALAzK,KAAK8H,iBAAmBnC,EAAkB+E,kBAC1C1K,KAAK6H,gBACHyC,EAAQ9H,WAAWlE,EAAkBqM,YACrCzD,GAKJ,MAAM5C,EAAagG,EAAQ9H,WAAWlE,EAAkBqG,YAClDiG,EAAYN,EAAQ9H,WAAWlE,EAAkBsG,UAEvD5E,KAAK2H,uBAAkBT,EAAW,CAChCtD,UAAW0G,EAAQ9H,WAAWlE,EAAkBoF,OAChDkH,WAAyB,IAAdA,EAAqB,GAAKA,EACrC9G,aAA4B,IAAfQ,EAAsB,GAAKA,EACxCW,KAAMqF,EAAQpJ,UAIV,QAAA2I,CAASL,GACfxJ,KAAK8H,iBAAmBnC,EAAkB+E,aAC1C1K,KAAK4H,gBAAgB4B,OAAOtC,GAGtB,QAAA6C,CAASP,GACfxJ,KAAK8H,iBAAmBnC,EAAkB+E,aAC1C1K,KAAK6H,gBAAgB2B,OAAOtC,GAGvB,IAAApC,CAAKhD,GACV9B,KAAK2I,YAAY7G,GAGZ,SAAA+I,GACD7K,KAAK8G,YACP9G,KAAK8E,KAAK,IAAInG,YAAY,WCpKnBmM,EAEHC,YACA5C,eAEAtB,UAGAmE,OAA2B,CAAE,EAE7BC,eAEA5D,+BAAiC,IACjCE,wBACA2D,kBAAoB,IACpBC,gBAA0BrF,EAAiBsF,QAE3CzD,kBACA0D,qBAAoC,OACpCC,oBAAmC,OACnCC,wBAAuC,OAE/C,WAAAtH,CACEiE,EACArB,EACA2E,EACArD,GAEAnI,KAAKuH,wBACHY,GAAgBZ,yBAChBvH,KAAKqH,+BACPrH,KAAKmI,eAAiBA,QAAkBjB,EACxClH,KAAK6G,UAAYA,EAGjB7G,KAAK+K,YAAc,IAAIpE,EACrBuB,EACAlI,KAAK6G,UACL7G,KAAKmI,gBAGPnI,KAAK4J,UACL5J,KAAK8J,UACL9J,KAAKqK,mBAGDmB,GAASC,0BACXzL,KAAK0L,qBAIT,iBAAWtE,GACT,OAAOpH,KAAK+K,aAAa3D,cAGnB,cAAAuE,GACN3L,KAAKiL,eAAiB5C,aAAY,KAC5BrI,KAAK+K,aACP/K,KAAK+K,YAAYF,cAElB7K,KAAKkL,mBAGF,aAAAU,GACNlD,cAAc1I,KAAKiL,gBAId,cAAMY,CAASC,GAMpB,OALI9L,KAAK+K,cACP/K,KAAK+K,YAAYnC,aAAakD,SACxB9L,KAAK+K,YAAYlC,UACvB7I,KAAK2L,kBAEA3L,KAGD,kBAAA0L,GACFK,SAASC,kBACXD,SAASC,iBAAiB,oBAAoBC,UAE5C,OADAjM,KAAKmL,gBAAkBY,SAASZ,gBACxBnL,KAAKmL,iBACX,KAAKrF,EAAiBoG,OACpBlM,KAAK+K,aAAa1B,aAClBrJ,KAAK4L,gBACL,MACF,KAAK9F,EAAiBsF,cACdpL,KAAK6L,UAAS,OAOtB,gBAAAxB,GACN,GAAIrK,KAAK+K,YAAa,CACpB,MAAMoB,EAA0BnM,KAChCA,KAAK+K,aAAaV,kBAAiB,CAAC+B,EAAUnH,KAC5C,MAAMrB,UAAEA,EAASE,YAAEA,GAAgBmB,EAC/BjF,KAAK+K,cAAgB/K,KAAKgL,OAAOpH,KACnC5D,KAAKgL,OAAOpH,GAAa,IAAIF,EAC3ByI,EACAnM,KAAK+K,YACLnH,EACA,CACEQ,GAAIN,KAINF,GAAa5D,KAAKgL,OAAOpH,IAC3B5D,KAAKgL,OAAOpH,IAAYoB,kBAAkBC,GAEN,mBAA3BjF,KAAK2H,mBACd3H,KAAK2H,kBAAkB1C,OAMvB,SAAA6G,GACN9L,KAAK4L,gBACLxC,YAAW6C,gBAEHjM,KAAK6L,UAAS,GACoB,mBAA7B7L,KAAKsL,qBACdtL,KAAKsL,wBAENtL,KAAKuH,yBAGF,YAAA8E,GACN,OAAOrM,KAAKmL,kBAAoBrF,EAAiBoG,OAG3C,WAAAI,GACFtM,KAAKqM,eACPrM,KAAK8L,aAEL9L,KAAK4L,gBACoC,mBAA9B5L,KAAKqL,sBACdrL,KAAKqL,qBAAqB,8BAKxB,OAAAzB,GACF5J,KAAK+K,aACP/K,KAAK+K,YAAYnB,SAAQ,CAACwC,EAAUnH,KAClCjF,KAAKsM,cACuC,mBAAjCtM,KAAKuL,yBACdvL,KAAKuL,wBAAwBa,MAM7B,OAAAtC,GACF9J,KAAK+K,aACP/K,KAAK+K,YAAYjB,SAAQ,CAACsC,EAAoBnH,KACA,mBAAjCjF,KAAKuL,yBACdvL,KAAKuL,wBAAwBa,MAM9B,SAAAlH,CAAUkF,GACfpK,KAAK2H,kBAAoByC,EAGpB,UAAAf,GACLrJ,KAAKmL,gBAAkBrF,EAAiBoG,OACxClM,KAAK+K,aAAa1B,aAGb,YAAAkD,CAAanC,GAClBpK,KAAKqL,qBAAuBjB,EAGvB,WAAAoC,CAAYpC,GACjBpK,KAAKsL,oBAAsBlB,EAGtB,QAAAqC,CAASrC,GACdpK,KAAKuL,wBAA0BnB,EAG1B,QAAAsC,CAAS9I,GAOd,OAJK5D,KAAKgL,OAAOpH,IAAc5D,KAAK+K,cAClC/K,KAAKgL,OAAOpH,GAAa,IAAIF,EAAM1D,KAAMA,KAAK+K,YAAanH,EAAW,KAGjE5D,KAAKgL,OAAOpH,GAGd,mBAAA6B,CAAoB7B,UAClB5D,KAAKgL,OAAOpH,GAGd,WAAA4B,CAAY5B,GACjB,QAAI5D,KAAKgL,OAAOpH,KACd5D,KAAKgL,OAAOpH,IAAY4B,eACjB,GAKJ,SAAAnB,CACLT,EACAE,EAA+B,IAE/B,GAAI9D,KAAK+K,YACP,OAAI/K,KAAKgL,OAAOpH,KAGd5D,KAAKgL,OAAOpH,GAAa,IAAIF,EAC3B1D,KACAA,KAAK+K,YACLnH,EACAE,IANK9D,KAAKgL,OAAOpH,GAclB,OAAA8B,CACL9B,EACAqB,EACAnB,EAAwB,IAExB,GAAI9D,KAAK+K,aAAe/K,KAAK+K,YAAYjG,KAAM,CAC7C9E,KAAK4L,gBACL,MAAMzJ,EAAWpB,IAAoBlB,WACnCvB,EAAkBoF,MAClBE,GAGEE,GAAalF,OAAS,GACxBuD,EAAStC,WAAWvB,EAAkBqG,WAAYb,GAEpD,MAAM6I,EAAgB3L,EAAaC,OAAOkB,EAAU8C,GAEpDjF,KAAK+K,YAAYjG,KAAK6H,GACtB3M,KAAK2L,kBAIT,UAAWiB,GACT,OAAO5M,KAAK+K,aAAajD,kBAAoB,MCrV1C,MAAMI,EAAoBlB,IAC/B,MAAM6F,EAAK,IAAIC,UAAU9F,GAEzB6F,EAAGE,WAAalH,EAAUmH,YAE1B,MAAMlG,EAAgC,CACpChC,KAAOmI,IACLJ,EAAG/H,KAAKmI,EAAQ,EAElB3D,MAAO,KACLuD,EAAGvD,OAAO,GA8Bd,OAxBAuD,EAAGK,OAAU1D,IACP1C,GAAYyC,QACdzC,EAAWyC,OAAOC,IAItBqD,EAAGM,QAAW3D,IACR1C,GAAY8C,SACd9C,EAAW8C,QAAQJ,IAIvBqD,EAAGO,QAAW5D,IACR1C,GAAYgD,SACdhD,EAAWgD,QAAQN,IAIvBqD,EAAGQ,UAAa7D,IACV1C,GAAY4C,WACd5C,EAAW4C,UAAUF,EAAMvE,OAIxB6B,CAAU,ECxCNwG,EAAuBC,IAClC,IAAKA,EAAO,MAAO,GAEnB,MAAMC,EAAuB,GACvBC,EAAcF,EACpBjK,OAAOE,KAAKiK,GAAa/M,KAAK+C,IAC5B+J,EAAWvN,KAAK,GAAGwD,KAAOgK,EAAYhK,KAAO,IAE/C,MAAMiK,EAAcF,EAAW5K,KAAK,KACpC,OAAO8K,EAAc,IAAIA,IAAgB,EAAE,QC4BhCC,EACHC,eAAiB,UAEjBC,qBACAC,SACAC,cACR,WAAA9J,CACE4J,EACAC,EACAC,GAEA/N,KAAK6N,qBAAuBA,EAC5B7N,KAAK8N,SAAWA,EAChB9N,KAAK+N,cAAgBA,EAGvB,kBAAMC,CACJ9M,GAEE,MAAM+M,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,iBACpF,CACEQ,OAAQ,OACRC,QAASrO,KAAK+N,cAAcM,QAC5BC,KAAMC,KAAKC,UAAUtN,KAIzB,GAAG+M,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGpB,mBAAMC,CAActH,GAClB,MAAM6G,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,kBAAkBxG,IACtG,CACEgH,OAAQ,MACRC,QAASrO,KAAK+N,cAAcM,UAIhC,GAAGJ,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,iBAAME,CAAYpB,GAChB,MAAMG,EAAcJ,EAAoBC,GAClCU,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,iBAAiBF,IACrG,CACEU,OAAQ,MACRC,QAASrO,KAAK+N,cAAcM,UAIhC,GAAGJ,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,kBAAMG,CACJxH,EACAlG,GAEA,MAAM+M,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,kBAAkBxG,IACtG,CACEgH,OAAQ,QACRC,QAASrO,KAAK+N,cAAcM,QAC5BC,KAAMC,KAAKC,UAAUtN,KAIzB,GAAG+M,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,kBAAMI,CAAazH,GACjB,MAAM6G,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,kBAAkBxG,IACtG,CACEgH,OAAQ,SACRC,QAASrO,KAAK+N,cAAcM,UAIhC,GAAGJ,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,QCxIpB,MAEaK,EAAgB7C,MAC3BhH,EACArB,EACAE,EACAgK,EACAD,EACAE,EACA5F,KAEA,MAAMhG,EAAWpB,IACdlB,WAAWvB,EAAkBoF,MAAOE,GACpC/D,WAAWvB,EAAkBqG,WAAYb,GACzCjE,WAAWvB,EAAkBuG,WAE1B8H,EAAgB3L,EAAaC,OAAOkB,EAAU8C,GAE9C8J,EAAU,GAAG5G,GAAgBpB,cAAcoB,GAAgB6G,SAWjE,aATMd,MACJ,GAAGa,KAAWlB,KAAwBC,YACtC,CACEO,QAASN,EAAcM,QACvBD,OAAQ,OACRE,KAAM3B,KAIH,CAAI,QCEAsC,EACHrB,eAAiB,SAEjBC,qBACAC,SACSC,cACjB,WAAA9J,CACE4J,EACAC,EACAC,GAEA/N,KAAK6N,qBAAuBA,EAC5B7N,KAAK8N,SAAWA,EAChB9N,KAAK+N,cAAgBA,EAGvB,iBAAMmB,CAAYhO,GAChB,MAAM+M,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,iBACpF,CACEQ,OAAQ,OACRC,QAASrO,KAAK+N,cAAcM,QAC5BC,KAAMC,KAAKC,UAAUtN,KAIzB,GAAG+M,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,kBAAMU,CAAaC,GACjB,MAAMnB,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,kBAAkBwB,IACtG,CACEhB,OAAQ,MACRC,QAASrO,KAAK+N,cAAcM,UAIhC,GAAGJ,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,gBAAMY,CAAW9B,GACf,MAAMG,EAAcH,EAAQD,EAAoBC,GAAS,GACnDU,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,iBAAiBF,IACrG,CACEU,OAAQ,MACRC,QAASrO,KAAK+N,cAAcM,UAIhC,GAAGJ,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,iBAAMa,CACJF,EACAlO,GAEA,MAAM+M,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,kBAAkBwB,IACtG,CACEhB,OAAQ,QACRC,QAASrO,KAAK+N,cAAcM,QAC5BC,KAAMC,KAAKC,UAAUtN,KAIzB,GAAG+M,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,iBAAMc,CAAYH,GAChB,MAAMnB,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK6N,wBAAwB7N,KAAK8N,YAAY9N,KAAK4N,kBAAkBwB,IACtG,CACEhB,OAAQ,SACRC,QAASrO,KAAK+N,cAAcM,UAIhC,GAAGJ,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,cCjGPe,EACH5B,eAAiB,UACRE,SACAC,cACT0B,UACR,WAAAxL,CACEwL,EACA3B,EACAC,GAEA/N,KAAK8N,SAAWA,EAChB9N,KAAK+N,cAAgBA,EACrB/N,KAAKyP,UAAYA,EAGnB,UAAIzE,GACF,OAAO,IAAIiE,EACTjP,KAAK4N,eACL5N,KAAK8N,SACL9N,KAAK+N,eAIT,WAAI2B,GACF,OAAO,IAAI/B,EACT3N,KAAK4N,eACL5N,KAAK8N,SACL9N,KAAK+N,eAIT,eAAM4B,GACJ,MAAM1B,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK4N,kBAAkB5N,KAAK8N,WAC7D,CACEM,OAAQ,MACRC,QAASrO,KAAK+N,cAAcM,UAIhC,GAAGJ,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,kBAAMmB,CAAa1O,GACjB,MAAM+M,QAAiBC,MAAM,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK4N,kBAAkB5N,KAAK8N,WAAY,CACpGM,OAAQ,QACRC,QAASrO,KAAK+N,cAAcM,QAC5BC,KAAMC,KAAKC,UAAUtN,KAGvB,GAAG+M,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,kBAAMoB,GACJ,MAAM5B,QAAiBC,MACrB,GAAGlO,KAAK+N,cAAcI,WAAWnO,KAAK4N,kBAAkB5N,KAAK8N,WAC7D,CACEM,OAAQ,SACRC,QAASrO,KAAK+N,cAAcM,UAIhC,GAAGJ,EAASrB,QAAU,IACpB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGlB,aAAM/I,CAAQoK,GACZ,MAAM7K,KAAEA,EAAIrB,UAAEA,EAASE,YAAEA,GAAgBgM,EACzC,OAAOhB,EACL7J,EACArB,EACAE,EACA9D,KAAK8N,SACL9N,KAAK4N,eACL5N,KAAK+N,cACL/N,KAAKyP,UAAUtH,uBChGR4H,EACHC,OACD7H,eACC4F,cACR,WAAA9J,CAAY+L,EAAgB7H,GAC1BnI,KAAKmI,eAAiB,CACpBvB,KAAMT,EAASE,eACfU,SAAUZ,EAASO,oBACnBM,IAAKb,EAASM,cACdwJ,MAAO9J,EAASG,aAChB0I,OAAQ7I,EAASC,cACjB4J,OAAQA,KACL7H,GAGLnI,KAAKgQ,OAASA,EACdhQ,KAAK+N,cAAgB,CACnBI,QAAS,GAAGnO,KAAKmI,gBAAgBpB,cAAc/G,KAAKmI,gBAAgBvB,OAAO5G,KAAKmI,gBAAgBnB,MAChGqH,QAAS,CAAE,YAAarO,KAAKgQ,OAAQ,eAAgB,qBAIzD,aAAME,CAAQC,GACZ,MAAMzC,EAAc,IAAI0C,gBACtBD,GACAE,WAWF,aAVuBnC,MACrB,GAAGlO,KAAK+N,cAAcI,kBACpBT,EAAc,IAAIA,IAAgB,KAEpC,CACEW,QAASrO,KAAK+N,cAAcM,QAC5BD,OAAQ,SAIIK,OAGlB,kBAAM6B,CAAapP,GACjB,MAAM+M,QAAiBC,MAAM,GAAGlO,KAAK+N,cAAcI,kBAAmB,CACpEC,OAAQ,OACRC,QAASrO,KAAK+N,cAAcM,QAC5BC,KAAMC,KAAKC,UAAUtN,KAGvB,GAAI+M,EAASrB,QAAU,IACrB,YAAYqB,EAASQ,OAGvB,OAAOR,EAASQ,OAGX,MAAAzK,CAAO8J,GACZ,OAAO,IAAI0B,EAAUxP,KAAM8N,EAAU9N,KAAK+N,sBCzEjCwC,EAAM,CACjBP,EACA7H,IAEO,IAAI4H,EAAUC,EAAQ7H,GCR/BqI,QAAQC,IAAI,wBACL,MAAMC,EAAkBzE,MAC7BpF,EACA2E,EACArD,IAEiB,IAAI2C,EACnB5C,EACArB,EACA2E,EACArD,GAEc0D"}