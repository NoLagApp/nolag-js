{"version":3,"file":"browserInstance.js","sources":["../src/shared/enum/ETransportCommand.ts","../src/shared/utils/Encodings.ts","../src/shared/utils/TransportCommands.ts","../src/shared/utils/transport.ts","../src/shared/models/Topic.ts","../src/shared/enum.ts","../src/shared/constants.ts","../src/client/NoLagClient.ts","../src/client/index.ts","../src/instance/browser.ts","../src/shared/utils/generateQueryString.ts","../src/api/controllers/tunnels/TunnelDevice.ts","../src/api/controllers/tunnels/TunnelPublish.ts","../src/api/controllers/tunnels/TunnelTopic.ts","../src/api/controllers/tunnels/TunnelApi.ts","../src/api/ApiTunnel.ts","../src/api/index.ts","../src/browserInstance.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["ETransportCommand","ETransportCommandSeparator","stringToArrayBuffer","str","buf","ArrayBuffer","length","bufView","Uint8Array","strLen","i","charCodeAt","uint8ArrayToString","buffer","reduce","accumulator","index","String","fromCharCode","TransportCommands","commandArray","setCommand","command","commandAction","this","push","commandActionArray","Array","isArray","convertArray","convertStringNumberArray","commandActionBuffer","from","commandActions","map","action","ArraySeparator","flat","build","transportCommands","NqlTransport","encode","payload","separatorArray","Payload","transportCommandsUintArray","commandLength","byteLength","payloadOffset","payloadLength","payloadUintArray","tmp","set","decode","transport","totalTransportBytes","transportBufferViewer","payloadSeparatorIndex","indexOf","commands","slice","payloadStartIndex","extractedCommands","extractCommands","getCommand","hasSeparatorIndexes","commandActionUint8ArrayToString","item","join","commandActionUint8ArrayToStringArray","groupedUint8Array","tempGroup","forEach","uint8Array","Number","commandByteGroup","commandBeingAssigned","byte","Object","values","keys","key","Topic","connection","topicName","onReceiveCallback","identifiers","presence","constructor","setConnection","saveIdentifiers","OR","subscribe","findSavedIdentifier","identifier","value","find","s","findKey","findValue","deleteSavedIdentifiers","identifierList","Identifier","Presence","AddAction","send","setPresence","_onReceiveMessage","data","onReceive","callbackFn","addIdentifiers","identifiersList","removeIdentifiers","DeleteAction","unsubscribe","publish","EConnectionStatus","EEnvironment","EAction","EEncoding","EVisibilityState","ESeparator","EAccessPermission","EStatus","ETopicType","CONSTANT","DefaultWsHost","DefaultApiHost","DefaultWsUrl","DefaultPort","DefaultWsProtocol","DefaultApiUrl","DefaultHttpProtocol","NoLagClient","host","authToken","wsInstance","protocol","url","deviceConnectionId","undefined","environment","deviceTokenId","defaultCheckConnectionInterval","defaultCheckConnectionTimeout","checkConnectionInterval","checkConnectionTimeout","reConnect","callbackOnOpen","callbackOnReceive","callbackOnClose","callbackOnError","connectionStatus","Idle","backpressureSendInterval","senderInterval","unifiedWebsocket","connectOptions","startSender","setInterval","sendTransport","shift","slowDownSender","backpressureInterval","clearInterval","addToBuffer","setReConnect","connect","initWebsocketConnection","Promise","resolve","reject","checkConnection","Connected","setTimeout","disconnect","close","onOpen","event","_onOpen","onMessage","_onReceive","onClose","_onClose","onError","_onError","authenticate","Connecting","Authenticate","Reconnect","callback","onReceiveMessage","decoded","InitConnection","Acknowledge","Error","Disconnected","Alert","presences","heartbeat","Tunnel","noLagClient","topics","heartbeatTimer","heartBeatInterval","visibilityState","Visible","callbackOnDisconnect","callbackOnReconnect","callbackOnReceivedError","options","disconnectOnNoVisibility","onVisibilityChange","startHeartbeat","stopHeartbeat","initiate","reconnect","document","addEventListener","async","Hidden","err","canReconnect","doReconnect","onDisconnect","onReconnect","onErrors","getTopic","encodedBuffer","status","ws","WebSocket","binaryType","Arraybuffer","message","onopen","onclose","onerror","onmessage","generateQueryString","query","queryArray","queryObject","queryString","TunnelDevice","routeNamespace","parentRouteNamespace","tunnelId","requestParams","createDevice","fetch","baseURL","method","headers","body","JSON","stringify","json","getDeviceById","listDevices","updateDevice","deleteDevice","TunnelPublish","baseUrl","wsHost","TunnelTopic","createTopic","getTopicById","topicId","listTopics","updateTopic","deleteTopic","TunnelApi","apiTunnel","devices","httpPublish","ApiTunnel","apiKey","wsUrl","tunnels","tunnelQuery","URLSearchParams","toString","tunnel","Api","console","log","WebSocketClient"],"mappings":"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"}